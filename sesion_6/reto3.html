<html>
  <head>
    <meta charset="utf8" />
    <title>Reto 3</title>
  </head>
  <body>

    <div id="tab-panel">
      <div data-tabname="First">Tab one, será?</div>
      <div data-tabname="Second">Tab two, sí es!</div>
      <div data-tabname="Third">Tab three</div>
    </div>

    <script>
      function createTabs(node) {
          let tabs = Array.from(node.children).map((node) => {
            let button = document.createElement('button');
            button.textContent = node.getAttribute('data-tabname');

            let tab = {
                node: node,
                button: button
            }
            button.addEventListener('click', function(){
                return selectTab(tab)
            });
            return tab;
          });
          let tabList = document.createElement('div');

          for(i = 0; i < tabs.length; i++){
            tabList.appendChild(tabs[i].button);
          }
          node.insertBefore(tabList, node.firstChild);

          selectTab = (selectedTab) => {
              for(i = 0; i < tabs.length; i++) {
                  let selected = tabs[i] == selectedTab;
                  tabs[i].node.style.display = selected ? '' : 'none';
                  tabs[i].button.style.color = selected ?  'red': '';
              }
          }
          selectTab(tabs[0]);
      }
      createTabs(document.querySelector('#tab-panel'))
    </script>
  </body>
</html>
